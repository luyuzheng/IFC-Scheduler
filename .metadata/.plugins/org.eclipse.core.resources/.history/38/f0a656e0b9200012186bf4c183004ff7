package gui.main;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.Font;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import javax.swing.ButtonGroup;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JRadioButton;
import javax.swing.table.AbstractTableModel;

import data.Appointment;
import data.Patient;
import data.Practitioner;

public class SearchPane extends JPanel {
	
	private Component owner;
	private Font font = new Font("Arial", Font.PLAIN, 16);
	
	public SearchPane(Component owner) {
		this.owner = owner;
		setMinimumSize(new Dimension(0,0));
		setBackground(Color.WHITE);
		setLayout(new BorderLayout());
		
		// Create radio button panel
		JPanel radioButtonPanel = new JPanel(new GridLayout(0, 1));
		JPanel searchAreaPanel = new JPanel(new GridLayout(0, 1));
		JPanel searchResultsPanel = new JPanel(new BorderLayout());
		
		// Provide choice for type of search
		JLabel typeOfSearchLabel = new JLabel("Choose a Search Option: ");
		typeOfSearchLabel.setFont(font);
		
		// Add buttons for type of search
		JRadioButton patientSearchButton = new JRadioButton("Search for a Patient");
		JRadioButton pracSearchButton = new JRadioButton("Search for a Practitioner");
		JRadioButton apptSearchButton = new JRadioButton("Search for an Open Appointment Slot");
		
		patientSearchButton.setFont(font);
		pracSearchButton.setFont(font);
		apptSearchButton.setFont(font);
		
		// Group buttons together
		ButtonGroup searchOptions = new ButtonGroup();
		searchOptions.add(patientSearchButton);
		searchOptions.add(pracSearchButton);
		searchOptions.add(apptSearchButton);
		
		// Register a listener for the radio buttons
		patientSearchButton.addActionListener(new ButtonListener());
		pracSearchButton.addActionListener(new ButtonListener());
		apptSearchButton.addActionListener(new ButtonListener());
		
		// Add label and buttons to button panel
		radioButtonPanel.add(typeOfSearchLabel);
		radioButtonPanel.add(patientSearchButton);
		radioButtonPanel.add(pracSearchButton);
		radioButtonPanel.add(apptSearchButton);
		
		
		// Add to the main GUI
		add(radioButtonPanel, BorderLayout.NORTH);
	}
	
	
	/**
	 * 
	 */
	public class PatientResultsTableModel extends AbstractTableModel {
		
		private String columnNames[];
		private ArrayList<Patient> patients;
		
		public PatientResultsTableModel(ArrayList<Patient> pat) {
			patients = pat;
			columnNames = new String[] { "First Name", "Last Name", "Phone Number", "Type", "Comments", "Waitlisted", "No Show" };
		}
		
		public int getColumnCount() {
			return columnNames.length;
		}
		
		public int getRowCount() {
			return patients.size();
		}
		
		public Object getValueAt(int row, int col) {
			Patient p = patients.get(row);
			if (col == 0) {
				return p.getFirstName();
			} else if (col == 1) {
				return p.getLastName();
			} else if (col == 2) {
				return p.getNumberString();
			}
		}
	}
	
	/**
	 * 
	 */
	public class PractitionerResultsTableModel extends AbstractTableModel {
		
		private String columnNames[];
		private ArrayList<Practitioner> practitioners;
		
		public PractitionerResultsTableModel(ArrayList<Practitioner> prac) {
			practitioners = prac;
			columnNames = new String[] { "First Name", "Last Name", "Type", "Appointment Length" };
		}
		
		public int getColumnCount() {
			return columnNames.length;
		}
		
		public int getRowCount() {
			return practitioners.size();
		}
		
		public Object getValueAt(int row, int col) {
			
		}
	}
	
	/**
	 * 
	 */
	public class AppointmentResultsTableModel extends AbstractTableModel {
		
		private String columnNames[];
		private ArrayList<Appointment> appointments;
		
		public AppointmentResultsTableModel(ArrayList<Appointment> appt) {
			appointments = appt;
			columnNames = new String[] { "Date", "Time", "Practitioner" };
		}
		
		public int getColumnCount() {
			return columnNames.length;
		}
		
		public int getRowCount() {
			return appointments.size();
		}
		
		public Object getValueAt(int row, int col) {
			
		}
	}
	
	/** 
	 * Displays the appropriate search box depending on which search option
	 * the user wants to use - search by patient, practitioner, or appointment slot. 
	 */
	public class ButtonListener implements ActionListener {
		public void displayPatientSearchBox() {
			
		}
		
		public void displayPracSearchBox() {
			
		}
		
		public void displayApptSearchBox() {
			
		}
		
		public void actionPerformed(ActionEvent e) {
			if (e.getActionCommand() == "Search for a Patient") {
				displayPatientSearchBox();
			} else if (e.getActionCommand() == "Search for a Practitioner") {
				displayPracSearchBox();
			} else {
				displayApptSearchBox();
			}
		}
	}
}